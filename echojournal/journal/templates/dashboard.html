{% extends "base.html" %}
{% load theme_tags %}
{% block content %}
<div id="journal_container" class="{% themed_class 'journal_container' %}">
<div class="max-w-3xl mx-auto px-4 py-8">

  {% include "journal/_mode_banner.html" with mode=mode %}
  <h2 class="text-2xl font-bold mb-6 text-center">ğŸª EchoJournal Dashboard</h2>

  {% include "journal/_customize_links.html" %}
  
  <div id="current-mode">
    {% include "journal/_current_mode.html" with mode=mode %}
  </div>

  <button 
    hx-get="{% url 'journal:mode_selector' %}" 
    hx-target="#mode-selector" 
    hx-swap="innerHTML"
    class="btn btn-outline-secondary mt-2"
  >
    Change Mode
  </button>
  <div id="mode-selector" class="mt-2"></div>

  {% include "journal/journal_form.html" %}

  {% include "journal/_entry_filter.html" %}

  <div id="journal-entry-list" class="mt-10">
    <hr class="my-6 border-gray-300">
    <h3 class="text-lg font-semibold mb-4">ğŸ“ Today's Entries</h3>
    <div id="entry-list" 
         hx-get="{% url 'journal:same_day_entries' %}" 
         hx-trigger="load" 
         class="space-y-4">
    </div>
  </div>

  {% include "journal/_synthesis.html" %}
  {% include "journal/_synthesize_button.html" %}

</div>
</div>
{% endblock %}