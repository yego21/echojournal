

<!DOCTYPE html>
<html>
<head>
  <title>EchoJournal</title>
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
</head>
<body>
  <h1>ðŸªž EchoJournal</h1>

  <div class="container mt-5">

  <!-- Entry Form -->
  <form 
    id="journal-form"
    method="POST" 
    hx-post="{% url 'new_journal_entry' %}" 
    hx-target="#entry-list" 
    hx-swap="innerHTML"
  >
    {% csrf_token %}
    {{ form.as_p }}

    <button 
      type="submit" 
      class="btn btn-primary" 
      name="submit_entry"
      hx-disable="true"
    >
      Add Entry
    </button>
  </form>
      <div id="journal-alert-zone" hx-swap-oob="true"></div>
<div id="journal-entry-list">

  <hr>

  <!-- Rendered Entries -->
  <div id="entry-list" hx-get="{% url 'journal_entries' %}" hx-trigger="load">
    <!-- HTMX will load _entries.html here -->
  </div>

</div>

  

  <div id="synthesis">
    {% if synthesis %}
      <h2>ðŸ§  Insight Summary</h2>
      <p>{{ synthesis }}</p>
    {% endif %}
  </div>


   <button type="button"
  hx-get="{% url 'synthesize_entries' %}"
  hx-target="#synthesis"
  hx-swap="innerHTML">
  ?? Synthesize
</button>


  <script>
    function clearForm() {
      const form = document.querySelector('form');
      form.reset();
      document.getElementById('synthesis').innerHTML = '';
      document.getElementById('success-message').innerHTML = '';
    }
  </script>
</body>
</html>
